var container=document.querySelector(".container"),msnry=new Masonry(container,{columnWidth:50,itemSelector:".item"});!function(e){e.fn.simpleJekyllSearch=function(t){function n(){c.keyup(function(){e(this).val().length?l(o(e(this).val())):s()})}function o(t){var n=[];return e.each(i,function(e,o){for(var e=0;e<r.length;e++)void 0!==o[r[e]]&&-1!==o[r[e]].toLowerCase().indexOf(t.toLowerCase())&&(n.push(o),e=r.length)}),n}function l(t){s(),u.append(e(a.searchResultsTitle)),t.length?e.each(t,function(t,n){if(t<a.limit){for(var o=a.template,t=0;t<r.length;t++){var l=new RegExp("{"+r[t]+"}","g");o=o.replace(l,n[r[t]])}u.append(e(o))}}):u.append(a.noResults)}function s(){u.children().remove()}var a=e.extend({jsonFile:"/search.json",jsonFormat:"title,category,desc,url,date,shortdate",template:'<a href="{url}" title="{title}">{title}</a>',searchResults:".results",searchResultsTitle:"<h4>Resultados da busca:</h4>",limit:"5",noResults:"<p>Oh droga!<br/><small>NÃ£o encontramos nada :(</small></p>"},t),r=a.jsonFormat.split(","),i=[],c=this,u=e(a.searchResults);a.jsonFile.length&&u.length&&e.ajax({type:"GET",url:a.jsonFile,dataType:"json",success:function(e){i=e,n()},error:function(e,t,n){console.log("***ERROR in simpleJekyllSearch.js***"),console.log(e),console.log(t),console.log(n)}})}}(jQuery);